# bbs
PHPの独学を始めた年である2014年から2015年にかけて制作していた掲示板プログラムです。  
5ちゃんねるやしたらば掲示板に非常に近い構成になっています。
## 機能説明
大きく分けてトップページ(index.php)、スレッドを読み込むプログラム(read.php)、スレッドを立てたりレスをスレッドに書き込んだりするプログラム(write.php)の三つから構成されます。
### index.php
スレッドの設立(write.phpへの遷移)と既に立てられたスレッドの概覧ができます。トップページから個々のスレッドのページへ遷移する(read.phpに対応するスレッドを呼び出すクエリを渡す)と、スレッドに書き込まれたレスが総覧できます。
### read.php
レスを一定の範囲(例えば1番目から100番目、最新レス30件など)で表示する機能や、アンカーやURLなど特殊な形式の文字列をハイパーリンク化して表示する機能などがあります。ページの最下段にはそのスレッドにレスを書き込むためのフォームがあります。submitボタンを押すと、POSTメソッドでwrite.phpに書き込む情報を渡します。
### write.php
index.phpからスレッドの設立をリクエストされた場合とread.phpからレスの書き込みをリクエストされた場合で挙動が変化します。  
まずスレッドの設立をリクエストされた場合では、POSTされた内容に応じて新しくテキストファイルを生成します。これをそのスレッドのデータとして用いていきます。  
レスの書き込みをリクエストされた場合では、渡されたデータを元に書き込むスレッド、内容を決定します。トリップ機能に対応しており、あるキーに対して対応するトリップは5ちゃんねるの物と一致します。いくつかの投稿規制機能（連投規制、ポート・リファラーによる非正規な書き込みの判定など）も備えています。  
いずれの場合も書き込みが完了すると書き込み完了画面へ遷移し、前の画面(スレッド設立の場合はトップページ、レス書き込みの場合は対応するスレッド)へ戻るボタンが出現します。